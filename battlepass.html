<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>ARK Battlepass — 100 Levels (Custom Rewards)</title>
<style>
  :root{
    --accent1:#7c3aed;
    --accent2:#06b6d4;
    --muted:#9aa4b2;
    --glass: rgba(255,255,255,0.04);
    --success:#16a34a;
  }
  *{box-sizing:border-box}
  body{
    margin:0;
    font-family:Inter,ui-sans-serif,system-ui,-apple-system,"Segoe UI",Roboto,"Helvetica Neue",Arial;
    background: url('https://i.imgur.com/y1340aW.png') no-repeat center center fixed;
    background-size: cover;
    color:#e6eef6;
    padding:24px;
    min-height:100vh;
    backdrop-filter: blur(3px);
  }

  header{
    display:flex;
    gap:16px;
    align-items:center;
    margin-bottom:20px;
    flex-wrap:wrap;
    background:rgba(0,0,0,0.4);
    padding:12px;
    border-radius:12px;
  }
  .logo{
    display:flex;
    align-items:center;
    gap:12px;
  }
  .logo .mark{
    width:64px;height:64px;border-radius:12px;
    background:linear-gradient(135deg,var(--accent1),var(--accent2));
    display:grid;place-items:center;font-weight:700;font-size:20px;color:white;
    box-shadow:0 6px 20px rgba(2,6,23,0.6);
  }
  h1{margin:0;font-size:20px}
  p.lead{margin:0;color:var(--muted);font-size:13px}

  .controls{
    margin-left:auto;
    display:flex;
    gap:10px;
    align-items:center;
    flex-wrap:wrap;
  }
  .btn{
    background:var(--glass);
    color:inherit;
    border:1px solid rgba(255,255,255,0.04);
    padding:8px 12px;border-radius:10px;cursor:pointer;font-size:13px;
    backdrop-filter: blur(4px);
    user-select:none;
  }
  .btn.primary{
    background:linear-gradient(90deg,var(--accent1),var(--accent2));
    border:none;
    color:white;
    box-shadow:0 8px 20px rgba(12,18,40,0.6);
  }

  .status-row{
    display:flex;
    gap:12px;
    align-items:center;
    margin:14px 0 22px 0;
    flex-wrap:wrap;
    background:rgba(0,0,0,0.4);
    padding:10px;
    border-radius:12px;
  }
  .progress-wrap{flex:1;min-width:220px}
  .progress-bg{
    background:rgba(255,255,255,0.06);
    height:14px;border-radius:999px;overflow:hidden;
  }
  .progress-bar{
    height:100%; width:0%; background:linear-gradient(90deg,var(--accent1),var(--accent2));
    transition:width .4s ease;
  }
  .status-meta{display:flex;gap:12px;align-items:center;color:var(--muted);font-size:13px}

  .grid{
    display:grid;
    grid-template-columns: repeat(auto-fill, minmax(190px,1fr));
    gap:12px;
  }
  .card{
    background:rgba(0,0,0,0.45);
    border:1px solid rgba(255,255,255,0.03);
    padding:12px 14px;border-radius:12px;position:relative;
    min-height:130px;
    display:flex;flex-direction:column;gap:8px;
    transition:transform .14s ease, box-shadow .14s ease;
  }
  .card:hover{transform:translateY(-6px);box-shadow:0 12px 30px rgba(2,6,23,0.6)}
  .level{
    font-weight:700;font-size:14px;letter-spacing:0.6px;
    display:flex;align-items:center;gap:8px;
  }
  .reward{
    font-size:14px;color:#d1d5db;
    flex-grow:1;
  }
  .claim-btn{
    margin-top:auto;display:flex;gap:8px;align-items:center;
  }
  .small-btn{
    font-size:13px;padding:6px 10px;border-radius:8px;background:transparent;border:1px solid rgba(255,255,255,0.04);
    cursor:pointer;color:var(--muted);
    user-select:none;
  }
  .small-btn:hover{
    border-color: var(--accent2);
    color: var(--accent2);
  }
  .claimed{
    outline:2px solid rgba(22,163,74,0.14);
    box-shadow:0 8px 18px rgba(16,185,129,0.06);
  }
  .claimed .reward{
    color: var(--success);
  }

  .admin-only {
  display: inline-block !important;
  }


  .legend{font-size:13px;color:var(--muted);margin-top:12px;background:rgba(0,0,0,0.4);padding:10px;border-radius:12px}

  footer{margin-top:26px;color:var(--muted);font-size:13px;display:flex;justify-content:space-between;flex-wrap:wrap;gap:10px;background:rgba(0,0,0,0.4);padding:10px;border-radius:12px}

  /* Modal overlay for editing */
  #editModal {
    position: fixed;
    top:0; left:0; right:0; bottom:0;
    background: rgba(0,0,0,0.75);
    display: none;
    justify-content: center;
    align-items: center;
    z-index: 10000;
  }
  #editModal.active {
    display: flex;
  }
  #editModal .modal-content {
    background: rgba(12,18,40,0.9);
    padding: 20px 24px;
    border-radius: 16px;
    width: 320px;
    color: #e6eef6;
    box-shadow: 0 8px 30px rgba(2,6,23,0.8);
  }
  #editModal label {
    display: block;
    margin-top: 12px;
    font-weight: 600;
    font-size: 14px;
  }
  #editModal input[type=text] {
    width: 100%;
    margin-top: 6px;
    padding: 8px 10px;
    border-radius: 10px;
    border: none;
    background: rgba(255,255,255,0.06);
    color: #e6eef6;
    font-size: 14px;
  }
  #editModal .modal-buttons {
    margin-top: 18px;
    text-align: right;
  }
  #editModal button {
    cursor: pointer;
    padding: 8px 14px;
    border-radius: 12px;
    border: none;
    font-weight: 600;
    font-size: 13px;
    margin-left: 10px;
    user-select:none;
  }
  #editModal button.cancel {
    background: transparent;
    color: var(--muted);
    border: 1px solid rgba(255,255,255,0.06);
  }
  #editModal button.save {
    background: linear-gradient(90deg,var(--accent1),var(--accent2));
    color: white;
    box-shadow: 0 8px 20px rgba(12,18,40,0.6);
  }
  /* Container für Logo und Text */
.logo-container {
  display: flex;
  align-items: center;
  gap: 8px; /* Abstand zwischen Bild und Text */
}

/* Stil für das Logo */
.logo-icon {
  width: 128px; /* Größe des Logos */
  height: 128px;
  object-fit: contain;
}

</style>
</head>
<body>
<header>
  <div class="logo-container">
    <img src="https://i.imgur.com/jtndB3c.png" alt="ARK Logo" class="logo-icon">
    <h1>ARK - Battlepass Seasson 1</h1>
  </div>
  <!-- Weitere Header-Inhalte -->
</header>


    <div class="controls" role="toolbar">
      <label for="filter" style="color:var(--muted);font-size:13px">Filter</label>
      <select id="filter" class="btn">
        <option value="all">All</option>
        <option value="open">Open</option>
        <option value="claimed">Claimed</option>
      </select>

      <!-- Admin-only controls -->
      <button id="reset" class="btn admin-only">Reset</button>
      <button id="randomize" class="btn admin-only">Randomize Rewards</button>

      <button id="export" class="btn">Export</button>
      <input id="importFile" type="file" accept=".json" style="display:none" />
      <button id="importBtn" class="btn">Import</button>

      <button id="adminLogin" class="btn primary">Admin Login</button>
      <button id="adminLogout" class="btn admin-only">Admin Logout</button>
    </div>
  </header>

  <div class="status-row" aria-live="polite">
    <div class="progress-wrap" aria-label="Progress">
      <div class="progress-bg">
        <div id="progressBar" class="progress-bar" role="progressbar" aria-valuemin="0" aria-valuemax="100" aria-valuenow="0"></div>
      </div>
    </div>
    <div class="status-meta" id="statusText">0 / 100 claimed</div>
  </div>

  <main>
    <div class="grid" id="battlepassGrid" aria-label="Battlepass Levels"></div>
  </main>

  <footer>
    <div>Made with ❤️ for ARK</div>
    <div>by Killua</div>
  </footer>

  <!-- Edit Modal -->
  <div id="editModal" role="dialog" aria-modal="true" aria-labelledby="editModalTitle">
    <div class="modal-content">
      <h2 id="editModalTitle">Edit Reward</h2>
      <form id="editForm">
        <label for="rewardNameInput">Reward Name</label>
        <input type="text" id="rewardNameInput" name="rewardName" required autocomplete="off" />
        <label for="levelTextInput">Level / Description</label>
        <input type="text" id="levelTextInput" name="levelText" required autocomplete="off" />
        <div class="modal-buttons">
          <button type="button" class="cancel">Cancel</button>
          <button type="submit" class="save">Save</button>
        </div>
      </form>
    </div>
  </div>

<script>
(() => {
  const ADMIN_PASSWORD = 'FiberBloodbath'; // Change this as you like

  const battlepassGrid = document.getElementById('battlepassGrid');
  const progressBar = document.getElementById('progressBar');
  const statusText = document.getElementById('statusText');
  const filterSelect = document.getElementById('filter');
  const resetBtn = document.getElementById('reset');
  const randomizeBtn = document.getElementById('randomize');
  const exportBtn = document.getElementById('export');
  const importBtn = document.getElementById('importBtn');
  const importFile = document.getElementById('importFile');
  const adminLoginBtn = document.getElementById('adminLogin');
  const adminLogoutBtn = document.getElementById('adminLogout');

  const editModal = document.getElementById('editModal');
  const editForm = document.getElementById('editForm');
  const rewardNameInput = document.getElementById('rewardNameInput');
  const levelTextInput = document.getElementById('levelTextInput');

  let isAdmin = false;
  let claimedLevels = new Set();
  let rewards = [];
  let levelsCount = 100;

  // Initialize default rewards
  function defaultReward(i) {
    return {
      rewardName: `Rex`,
      levelText: `Lvl 1000`
    };
  }

  function loadData() {
    let saved = localStorage.getItem('battlepass_rewards');
    if(saved){
      try {
        rewards = JSON.parse(saved);
      } catch {
        rewards = [];
      }
    }
    if(!Array.isArray(rewards) || rewards.length !== levelsCount){
      // initialize with default
      rewards = [];
      for(let i=0; i<levelsCount; i++){
        rewards.push(defaultReward(i));
      }
      saveData();
    }

    let claimedRaw = localStorage.getItem('battlepass_claimed');
    if(claimedRaw){
      try {
        claimedLevels = new Set(JSON.parse(claimedRaw));
      } catch {
        claimedLevels = new Set();
      }
    }
  }

  function saveData(){
    localStorage.setItem('battlepass_rewards', JSON.stringify(rewards));
  }
  function saveClaimed(){
    localStorage.setItem('battlepass_claimed', JSON.stringify([...claimedLevels]));
  }

  function renderGrid(){
    battlepassGrid.innerHTML = '';
    for(let i=0; i<levelsCount; i++){
      const card = document.createElement('article');
      card.className = 'card';
      card.setAttribute('tabindex','0');
      if(claimedLevels.has(i)) card.classList.add('claimed');
      card.dataset.levelIndex = i;

      // Level / Description text
      const levelSpan = document.createElement('div');
      levelSpan.className = 'level';
      levelSpan.textContent = rewards[i].levelText;

      // Reward Name text
      const rewardSpan = document.createElement('div');
      rewardSpan.className = 'reward';
      rewardSpan.textContent = rewards[i].rewardName;

      // Claim button
      const claimBtn = document.createElement('button');
      claimBtn.className = 'small-btn';
      claimBtn.textContent = claimedLevels.has(i) ? 'Unclaim' : 'Claim';
      claimBtn.setAttribute('aria-pressed', claimedLevels.has(i));
      claimBtn.addEventListener('click', (e) => {
        e.stopPropagation();
        toggleClaim(i);
      });

      card.appendChild(levelSpan);
      card.appendChild(rewardSpan);
      const claimWrap = document.createElement('div');
      claimWrap.className = 'claim-btn';
      claimWrap.appendChild(claimBtn);

      // If admin, add Edit button
      if(isAdmin){
        const editBtn = document.createElement('button');
        editBtn.className = 'small-btn admin-only';
        editBtn.textContent = 'Edit';
        editBtn.addEventListener('click', e => {
          e.stopPropagation();
          openEditModal(i);
        });
        claimWrap.appendChild(editBtn);
      }
      card.appendChild(claimWrap);

      battlepassGrid.appendChild(card);
    }
    updateProgress();
    updateAdminUI();
  }

  function updateProgress(){
    const claimedCount = claimedLevels.size;
    const percent = Math.round((claimedCount / levelsCount) * 100);
    progressBar.style.width = percent + '%';
    progressBar.setAttribute('aria-valuenow', percent);
    statusText.textContent = `${claimedCount} / ${levelsCount} claimed`;
  }

  function toggleClaim(level){
    if(claimedLevels.has(level)){
      claimedLevels.delete(level);
    } else {
      claimedLevels.add(level);
    }
    saveClaimed();
    renderGrid();
  }

  function openEditModal(level){
    rewardNameInput.value = rewards[level].rewardName;
    levelTextInput.value = rewards[level].levelText;
    editForm.dataset.level = level;
    editModal.classList.add('active');
    rewardNameInput.focus();
  }

  function closeEditModal(){
    editModal.classList.remove('active');
  }

  function resetAll(){
    if(!confirm('Reset all rewards and claims to default?')) return;
    rewards = [];
    claimedLevels.clear();
    for(let i=0; i<levelsCount; i++){
      rewards.push(defaultReward(i));
    }
    saveData();
    saveClaimed();
    renderGrid();
  }

  function randomizeRewards(){
    if(!confirm('Randomize all rewards? This cannot be undone.')) return;
    const exampleRewards = [
      "Rex",
      "Spino",
      "Tek Rifle Blueprint",
      "Blueprint 1",
      "Wyvern Egg",
      "Giganotosaurus",
      "Scorpion",
      "Electronics",
      "C4 Explosive",
      "Rocket Launcher",
      "Fur Armor",
      "Chibi Pet",
      "Parasaur Saddle",
      "Trike",
      "Titanosaur"
    ];
    for(let i=0; i<levelsCount; i++){
      rewards[i].rewardName = exampleRewards[Math.floor(Math.random()*exampleRewards.length)];
      rewards[i].levelText = `Lvl ${1000 - i*10}`;
    }
    saveData();
    renderGrid();
  }

  function updateAdminUI(){
    document.querySelectorAll('.admin-only').forEach(el => {
      el.style.display = isAdmin ? '' : 'none';
    });
    adminLoginBtn.style.display = isAdmin ? 'none' : '';
    adminLogoutBtn.style.display = isAdmin ? '' : 'none';
  }

  function loginAdmin(){
    const pw = prompt('Enter admin password:');
    if(pw === ADMIN_PASSWORD){
      isAdmin = true;
      alert('Admin mode activated.');
      updateAdminUI();
      renderGrid();
    } else {
      alert('Wrong password!');
    }
  }
  function logoutAdmin(){
    isAdmin = false;
    updateAdminUI();
    renderGrid();
  }

  // Export / Import
  exportBtn.addEventListener('click', () => {
    const data = {
      rewards,
      claimed: [...claimedLevels]
    };
    const json = JSON.stringify(data, null, 2);
    const blob = new Blob([json], {type: 'application/json'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'battlepass_data.json';
    a.click();
    URL.revokeObjectURL(url);
  });

  importBtn.addEventListener('click', () => {
    importFile.click();
  });
  importFile.addEventListener('change', () => {
    const file = importFile.files[0];
    if(!file) return;
    const reader = new FileReader();
    reader.onload = e => {
      try {
        const data = JSON.parse(e.target.result);
        if(data.rewards && Array.isArray(data.rewards) && data.claimed){
          rewards = data.rewards;
          claimedLevels = new Set(data.claimed);
          saveData();
          saveClaimed();
          renderGrid();
          alert('Import successful.');
        } else {
          alert('Invalid file format.');
        }
      } catch {
        alert('Error reading file.');
      }
    };
    reader.readAsText(file);
    importFile.value = '';
  });

  resetBtn.addEventListener('click', resetAll);
  randomizeBtn.addEventListener('click', randomizeRewards);
  adminLoginBtn.addEventListener('click', loginAdmin);
  adminLogoutBtn.addEventListener('click', logoutAdmin);

  editForm.addEventListener('submit', e => {
    e.preventDefault();
    const level = +editForm.dataset.level;
    rewards[level].rewardName = rewardNameInput.value.trim() || 'Unknown';
    rewards[level].levelText = levelTextInput.value.trim() || `Lvl ${level + 1}`;
    saveData();
    renderGrid();
    closeEditModal();
  });
  editForm.querySelector('.cancel').addEventListener('click', e => {
    e.preventDefault();
    closeEditModal();
  });

  filterSelect.addEventListener('change', () => {
    const val = filterSelect.value;
    const cards = battlepassGrid.querySelectorAll('.card');
    cards.forEach(card => {
      const idx = +card.dataset.levelIndex;
      const claimed = claimedLevels.has(idx);
      if(val === 'all') card.style.display = '';
      else if(val === 'claimed') card.style.display = claimed ? '' : 'none';
      else if(val === 'open') card.style.display = claimed ? 'none' : '';
    });
  });

  // Init
  loadData();
  renderGrid();
  updateAdminUI();

})();
</script>
</body>
</html>

